webpackJsonp([1],{"2coL":function(t,s){},G0lv:function(t,s){},IDpm:function(t,s){},"LHT+":function(t,s){},O4q7:function(t,s){},QEHh:function(t,s){},SrUm:function(t,s,i){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=i("7+uW"),a=i("C4MV"),n=i.n(a);function o(t){for(var s=arguments.length,i=Array(s>1?s-1:0),e=1;e<s;e++)i[e-1]=arguments[e];for(var a=0;a<i.length;a++)if(i[a])for(var n in i[a])t[n]=i[a][n];return t}function l(t){return"function"==typeof t}var r={musicList:[],playing:{},playList:[]};var c=i("pFYg"),u=i.n(c);function h(t){var s=new XMLHttpRequest;switch(s.onreadystatechange=function(s){4===s.readyState&&200===s.status&&t.success&&t.success()},t.dataType){default:case"post":case"get":"post"===t.method&&s.setRequestHeader("Content-type","application/x-www-form-urlencoded"),s.open(t.method,t.url,!0),s.send(t.data);break;case"jsonp":!function(t){var s=t.callback||"callback"+Math.random().toString(36).substr(2),i=null,e=null;window[s]=function(t){e=t};var a=function(){document.head.removeChild(i),null!==e&&t.success?t.success(e):t.error&&t.error()};(i=document.createElement("script")).src=function(t){var s=t.url;if(t.data||"object"===u()(t.data)){var i=[];for(var e in t.data)i.push(e+"="+t.data[e]);s=t.url.indexOf("?")>=0?t.url+"&"+i.join("&"):t.url+"?"+i.join("&")}else s=t.url+"?callback="+t.callback;return s.indexOf("callback")<0&&(s=s+"?callback="+t.callback),s}(t),i.type="text/javascript",i.onload=a,i.onerror=a,document.head.appendChild(i)}(t)}}function p(t){console.warn("[QQMusic warn]: "+t)}var d,m=200,y=0;function g(t){this.player=t,this._init(t.options)}(d=g).prototype._init=function(t){this._handleOptions(t)},d.prototype._handleOptions=function(t){this.options=o({},r,t)},function(t){t.prototype.getSongSheet=function(){var t=this;h({url:"http://webapi.yuzhers.com//api/music/default.ashx",method:"get",dataType:"jsonp",callback:"playlistinfoCallback",success:function(s){return t.onGetSongSheet(s)}})},t.prototype.searchMusic=function(t){var s=this;h({url:"https://c.y.qq.com/soso/fcgi-bin/client_search_cp",type:"get",dataType:"jsonp",data:{ct:24,qqmusic_ver:1298,new_json:1,remoteplace:"txt.yqq.center",searchid:"43421191653182934",t:0,aggr:1,cr:1,catZhida:1,lossless:0,flag_qc:0,p:1,n:100,w:t,g_tk:5381,jsonpCallback:"MusicJsonCallback04841230001495744",loginUin:0,hostUin:0,format:"jsonp",inCharset:"utf-8",outCharset:"utf-8",notice:0,platform:"yqq",needNewCode:0},callback:"MusicJsonCallback04841230001495744",success:function(t){return s.onSearchFinish(t)}})},t.prototype.getPlayKey=function(t){var s=this,i="C400"+t.songmid+".m4a";if(void 0!==t.vkey)return t.vkey;h({url:"https://c.y.qq.com/base/fcgi-bin/fcg_music_express_mobile3.fcg",type:"get",dataType:"jsonp",data:{jsonpCallback:"MusicJsonCallback7644963634977697",loginUin:0,hostUin:0,format:"json",inCharset:"utf8",outCharset:"utf-8",notice:0,platform:"yqq",needNewCode:0,cid:205361747,callback:"MusicJsonCallback7644963634977697",uin:0,songmid:t.songmid,filename:i,guid:"527838939"},callback:"MusicJsonCallback7644963634977697",success:function(i){return s.onGetPlayKey(i,t,s.play)}})},t.prototype.getHotTopList=function(){var t=this;h({url:"https://c.y.qq.com/v8/fcg-bin/fcg_v8_toplist_cp.fcg",type:"get",dataType:"jsonp",data:{tpl:3,page:"detail",date:(new Date).getFullYear()+"_13",topid:26,type:"top",song_begin:0,song_num:100,jsonpCallback:"MusicJsonCallbacktoplist",loginUin:0,hostUin:0,format:"jsonp",inCharset:"utf8",outCharset:"utf-8",notice:0,platform:"yqq",needNewCode:0},callback:"MusicJsonCallbacktoplist",success:function(s){return t.onGetHotTopList(s)}})},t.prototype.play=function(t){void 0===t.vkey?this.getPlayKey(t):(this.player.playing=t,this.player.load())},t.prototype.getPlayUrl=function(t){if(t)return"http://dl.stream.qqmusic.qq.com/C400"+t.songmid+".m4a?vkey="+t.vkey+"&guid=527838939&uin=0&fromtag=66"},t.prototype.getPhotoUrl=function(t){if(t&&t.albummid)return"https://y.gtimg.cn/music/photo_new/T002R300x300M000"+t.albummid+".jpg?max_age=2592000"}}(g),function(t){t.prototype.onSearchFinish=function(t){if(l(this.player.musicSourceEvent.musicListLoaded))if(t.code===y){for(var s=[],i=0;i<t.data.song.list.length;i++)s.push({albummid:t.data.song.list[i].album.mid,albumname:t.data.song.list[i].album.name,songid:t.data.song.list[i].id,songmid:t.data.song.list[i].mid,songname:t.data.song.list[i].name,singer:this._getSinger(t.data.song.list[i],t.data.song.list[i].name),interval:t.data.song.list[i].interval});this.player.musicSourceEvent.musicListLoaded(s,"search")}else this.onError(t.message)},t.prototype.onGetSongSheet=function(t){l(this.player.musicSourceEvent.musicListLoaded)&&(t.code===m?this.player.musicSourceEvent.musicListLoaded(t.data.songlist,"songSheet"):this.onError(t.msg))},t.prototype.onGetPlayKey=function(t,s){t.code===y?t.data.items.length>0&&(s.vkey=t.data.items[0].vkey,this.play(s)):this.onError("获取音乐播放秘钥时失败")},t.prototype.onGetHotTopList=function(t){if(l(this.player.musicSourceEvent.musicListLoaded))if(t.code===y){for(var s=[],i=0;i<t.songlist.length;i++)s.push({albummid:t.songlist[i].data.albummid,albumname:t.songlist[i].data.albumname,songid:t.songlist[i].data.songid,songmid:t.songlist[i].data.songmid,songname:t.songlist[i].data.songname,singer:this._getSinger(t.songlist[i].data,t.songlist[i].data.songname),interval:t.songlist[i].data.interval});this.player.musicSourceEvent.musicListLoaded(s,"hotTop")}else this.onError("获取巅峰热歌榜失败")},t.prototype._getSinger=function(t,s){return t.singer?t.singer[0].name:s},t.prototype.onError=function(t){p(t),l(this.events.error)&&this.events.error(t)}}(g),g.Version="1.0.0.1";var v=g,f={url:"",autoplay:!0,controls:!1,currentTime:0,defaultMuted:!1,defaultPlaybackRate:1,loop:!1,mediaGroup:"",muted:!1,playbackRate:1,preload:"auto",volume:1,playerStyle:0},_=["buffered","controller","currentSrc","duration","ended","networkState","played","readyState","seekable","seeking","textTracks"];var L=i("gBtx"),C=i.n(L);var b,w=["abort","canplay","canplaythrough","durationchange","emptied","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","readystatechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"];function S(t,s){this.wrapper="string"==typeof t?document.querySelector(t):t,this.wrapper||p("无法解析顶层DOM"),this._init(s);var i=new v(this);this.Use("qqMusic",i)}(b=S).prototype._init=function(t,s){this.playing={songname:"歌曲名",singer:"歌手",interval:0,albumname:"专辑"},this.events={},this._createPlayer(t),this._handleOptions(s),this._handleEvents(),this._handleCore(),this._handleProperty()},b.prototype._createPlayer=function(){var t=document.createElement("audio");t.setAttribute("width","0"),t.setAttribute("height",0),b.prototype._player=t,this.wrapper.appendChild(this._player)},b.prototype._handleOptions=function(t){var s=this;this.options=o({},f,t);var i=this,e=function(t){if("playerStyle"===t)return"break";n()(s.options,t,{get:function(){return i._player[t]},set:function(s){i._player[t]=s}})};for(var a in this.options)if("break"===e(a))break},b.prototype._handleProperty=function(){for(var t=this,s=this,i=function(i){n()(t,_[i],{get:function(){return s._player[_[i]]}})},e=0;e<_.length;e++)i(e)},function(t){t.prototype._handleEvents=function(){for(var t=this,s=this,i=function(i){try{t._player["on"+w[i]]=function(t){"ended"===w[i]&&s._autoToggleMusic(),l(s.events[w[i]])&&s.events[w[i]](t)}}catch(t){p(t)}},e=0;e<w.length;e++)i(e);this._handleMusicSourceEvents()},t.prototype._handleMusicSourceEvents=function(){var t=this;this.musicSourceEvent={musicListLoaded:function(s,i){"songSheet"===i&&(t.playList=s),"hotTop"===i&&(t.hotTop=s),l(t.events.musicListLoaded)&&t.events.musicListLoaded({songList:s,type:i})}}}}(S),function(t){t.prototype._handleCore=function(){this.load=function(){if(this.playing&&this.playing.vkey){var t=this.getPlayUrl(this.playing);this._player.setAttribute("src",t),this._player.innerHTML="<source src="+t+" />",this._player.currentTime=0,this._player.play()}},this.play=function(t){if(t&&t.songmid||!(this.playList.length>0)||(t=this.playList[0]),null===t||void 0!==t.vkey)return t!==this.playing?(this.playing=t,void this.load()):void this._player.play();this.qqMusic.play(t)},this.pause=function(){this._player.pause()}},t.prototype.Use=function(s,i){t.prototype[s]=i,this.getSongSheet=function(){this[s].getSongSheet()},this.search=function(t){this[s].searchMusic(t)},this.getHotTopList=function(){this[s].getHotTopList()},this.getPlayUrl=function(t){return this[s].getPlayUrl(t)},this.getPhotoUrl=function(){return this[s].getPhotoUrl(this.playing)}},t.prototype.listPlayer=function(t){var s=this.playList.indexOf(this.playing);(s=t?s+1:s-1)>=this.playList.length&&(s=0),s<0&&(s=this.playList.length-1),this.play(this.playList[s])},t.prototype.orderPlayer=function(t){var s=this.playList.indexOf(this.playing),i=t?s+1:s-1;i>=this.playList.length&&(i=this.playList.length-1),i<0&&(i=0),s!==i?this.play(this.playList[i]):(this.options.currentTime=0,this.pause())},t.prototype.randomPlayer=function(t){var s=this.playList.indexOf(this.playing),i=C()(Math.random()*this.playList.length);(s=i===s?Math.random()>.5?i+1:i-1:i)>=this.playList.length&&(s=0),s<0&&(s=this.playList.length-1),this.play(this.playList[s])},t.prototype.singlePlayer=function(){this.play(this.playing)},t.prototype._autoToggleMusic=function(){switch(this.options.playerStyle){case 0:this.listPlayer(!0);break;case 1:this.orderPlayer(!0);break;case 2:this.randomPlayer(!0);break;case 3:this.singlePlayer()}},t.prototype.toggleMusic=function(t){switch(this.pause(),this.options.playerStyle){case 0:case 1:case 3:this.listPlayer(t);break;case 2:this.randomPlayer(t)}}}(S),S.Version="1.0.0.0";var P=S,k={name:"header-wrap",data:function(){return{isShow:!1,searchMusicName:""}},props:{music:{type:Object}},computed:{isShowView:function(){return document.body.clientWidth>768}},methods:{hotTotList:function(){this.isShow?this.isShow=!1:(this.isShow=!0,this.music.hotTop||this.music.getHotTopList()),this.$emit("hot-top",!0)},searchMusic:function(){this.searchMusicName&&(this.music.search(this.searchMusicName),this.$emit("search-music",this.isShow,this.searchMusicName))}}},x={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"header-wrap"},[i("ul",{staticClass:"content"},[t._m(0),t._v(" "),i("li",{staticClass:"search"},[i("div",{staticClass:"content"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.searchMusicName,expression:"searchMusicName"}],attrs:{type:"text",name:"name",placeholder:"歌名、歌手、专辑"},domProps:{value:t.searchMusicName},on:{input:function(s){s.target.composing||(t.searchMusicName=s.target.value)}}}),t._v(" "),i("button",{staticClass:"search-btn",on:{click:t.searchMusic}},[i("i",{staticClass:"icon"})])])]),t._v(" "),t.isShowView?i("li",{staticClass:"hot-top-btns hidden"},[i("button",{staticClass:"hot-top-btn",on:{click:t.hotTotList}},[t._v("巅峰热歌榜")])]):t._e()])])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("li",{staticClass:"logo"},[s("a",{attrs:{href:"javascript:;"}},[s("img",{attrs:{src:"http://webapi.yuzhers.com/api/image/?n=player_logo.png",alt:"QQ音乐播放器"}})])])}]};var M=i("VU/8")(k,x,!1,function(t){i("G0lv")},"data-v-13b92c76",null).exports;function T(t){return t>=10?t:"0"+t}var $={name:"playList",data:function(){return{playList:[],playIndex:-1,playMusic:{},isShowPlayList:!1,isShowCloseBtn:!1}},props:{music:{type:Object}},computed:{playingIndex:function(){var t=this.music.playList.indexOf(this.music.playing);return t=t<0?0:t},showPlayList:function(){var t=document.body.clientWidth;return t>768&&this.closePlayList(!0),t<=768&&this.isShowPlayList&&this.closePlayList(!1),this.isShowPlayList}},created:function(){window.onresize=this._resize},mounted:function(){this._resize()},methods:{togglePlayStatus:function(t,s,i){this.playMusic={index:s,music:t},this.playIndex===s?(this.playIndex=-2,this.music.pause()):(this.playIndex=s,this.music.play(t))},play:function(t){var s=this.music.playList.indexOf(this.music.playing);this.playIndex=s>=0&&t?this.playingIndex:-2},songList:function(t){this.playList=t},removeMusic:function(t){var s=this.music.playList.indexOf(t);s>=0&&(this.music.playList.splice(s,1),this.$emit("remove-item",t))},closePlayList:function(t){this.isShowPlayList=t},_resize:function(t){var s=document.body.clientWidth;s>768?(this.isShowPlayList=!0,this.isShowCloseBtn=!1):this.isShowCloseBtn=!0,s<=768&&this.isShowPlayList&&(this.isShowPlayList=!1)}},filters:{intervalTime:function(t){return T(Math.floor(t/60))+":"+T(Math.floor(t%60))}}},U={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("transition",{attrs:{name:"play-list"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowPlayList,expression:"isShowPlayList"}],attrs:{id:"play-list-wrap"}},[i("div",{staticClass:"play-list-main"},[i("ul",{staticClass:"play-list-header hidden"},[i("li",{staticClass:"play-list-header-name"},[t._v("歌名")]),t._v(" "),i("li",{staticClass:"play-list-header-author"},[t._v("歌手")]),t._v(" "),i("li",{staticClass:"play-list-header-time"},[t._v("时长")])]),t._v(" "),i("i",{staticClass:"border-line"}),t._v(" "),i("ul",{staticClass:"play-list-content"},t._l(t.playList,function(s,e){return i("li",{key:e,staticClass:"play-list-item ",class:{playing:t.playIndex===e}},[i("div",{staticClass:"song-index"},[t._v(t._s(e+1))]),t._v(" "),i("div",{staticClass:"song-name",attrs:{"data-singer":"- "+s.singer}},[i("span",{attrs:{title:s.songname}},[t._v(t._s(s.songname))]),t._v(" "),i("div",{staticClass:"song-menu"},[i("span",{staticClass:"song-menu-status",attrs:{title:t.playIndex===e?"暂停":"播放"},on:{click:function(i){t.togglePlayStatus(s,e,i)}}}),t._v(" "),i("span",{staticClass:"song-menu-remove",attrs:{title:"删除"},on:{click:function(i){t.removeMusic(s)}}})])]),t._v(" "),i("div",{staticClass:"song-singer hidden",attrs:{title:s.singer}},[t._v(t._s(s.singer))]),t._v(" "),i("div",{staticClass:"song-interval hidden"},[t._v(t._s(t._f("intervalTime")(s.interval)))]),t._v(" "),i("i",{staticClass:"border-line"})])}))]),t._v(" "),i("div",{staticClass:"close-btn"},[t.isShowCloseBtn?i("button",{staticClass:"close-btn",on:{click:function(s){t.closePlayList(!1)}}},[t._v("关闭")]):t._e()])])])},staticRenderFns:[]};var I=i("VU/8")($,U,!1,function(t){i("LHT+")},"data-v-3ff0667a",null).exports,q={name:"songInfo",data:function(){return{needleDeg:-55,playingStatus:!1}},props:{music:{type:Object}},computed:{photoUrl:function(){return this.music.getPhotoUrl()}},methods:{play:function(t){this.needleDeg=-40,this.playingStatus=t},playStartDeg:function(t){var s=15/this.music.playing.interval*t;this.needleDeg=-40+s}}},E={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"song-info-wrap"},[i("div",{staticClass:"song-cover-wrap"},[i("div",{staticClass:"song-cover-content",class:{playing:t.playingStatus}},[i("img",{staticClass:"song-cover-img",attrs:{src:t.photoUrl,alt:""}})]),t._v(" "),i("div",{ref:"coverNeedle",staticClass:"song-cover-needle",style:{transform:"rotate("+t.needleDeg+"deg)"}})]),t._v(" "),i("div",{staticClass:"song-info-content"},[i("h2",{staticClass:"song-info-name"},[t._v("歌曲名："+t._s(t.music.playing.songname))]),t._v(" "),i("div",{staticClass:"song-info-author"},[t._v("歌手名："+t._s(t.music.playing.singer))]),t._v(" "),i("div",{staticClass:"song-info-special"},[t._v("专辑名："+t._s(t.music.playing.albumname))])])])},staticRenderFns:[]};var V=i("VU/8")(q,E,!1,function(t){i("QEHh")},"data-v-90a83722",null).exports,j={name:"playProgress",data:function(){return{}},props:{max:{trpe:Number,default:100},current:{trpe:Number,default:0}},mounted:function(){document.onmouseup=function(){document.onmousemove=null},document.ondragstart=function(){return!1}},methods:{changeVolume:function(t){var s=[t.offsetX,this.$refs.inner.offsetWidth],i=100/s[1]*s[0];this.$emit("toggleValue",i/100)},slideVolume:function(t){var s=this,i=[-99999,0,0,this.$refs.inner.offsetWidth,this.current],e=i[0],a=i[1],n=i[2],o=i[3],l=i[4];document.onmousemove=function(t){a=t.clientX,-99999===e&&(e=t.clientX),n=100/o/100*Math.abs(a-e),a>e?l+=n:a<e&&(l-=n),l>s.max?l=s.max:s.current<0&&(l=0),s.$emit("toggleValue",l),e=a}}}},O={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{ref:"inner",staticClass:"progress-inner",on:{click:function(s){return s.target!==s.currentTarget?null:t.changeVolume(s)}}},[i("div",{staticClass:"progress-play",style:{width:100/t.max*t.current+"%"},on:{click:function(s){return s.target!==s.currentTarget?null:t.changeVolume(s)}}},[i("span",{staticClass:"progress-ball",on:{mousedown:t.slideVolume}})])])},staticRenderFns:[]};var N=i("VU/8")(j,O,!1,function(t){i("IDpm")},"data-v-1fb808d4",null).exports,H={name:"player-wrap",data:function(){return{volume:this.music.options.volume,playerStylesIndex:0,isPlay:!1,current:0}},props:{music:{type:Object}},created:function(){this.playerStyles=["list","order","random","single"],this.playerStylesTitle=["列表循环","顺序播放","随机播放","单曲循环"]},computed:{showVolume:function(){return Math.floor(100*this.volume)},isShowView:function(){return document.body.clientWidth>768}},components:{playProgress:N},methods:{closeVolume:function(t){this.volume>0?(this.music.options.muted=!0,this.volume=0):(this.music.options.muted=!1,this.volume=this.music.options.volume)},togglePlayerStyle:function(t){var s=this.music.options.playerStyle;s++,this.music.options.playerStyle=s>=this.playerStyles.length?0:s},togglePlayStatus:function(){this.music.playList.length>0&&(this.isPlay=!this.isPlay,this.isPlay?this.music.play(this.music.playing,!0):this.music.pause())},toggleVolume:function(t){this.volume=t,this.music.options.volume=t,this.music.options.muted=!1},play:function(t){this.isPlay=t},timeUpdate:function(t){this.current=t},toggleMusic:function(t,s){this.music.toggleMusic(t)},openPlayList:function(){this.$emit("playing-list")}},filters:{intervalTime:function(t){return T(Math.floor(t/60))+":"+T(Math.floor(t%60))}}},D={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"player-wrap"},[i("div",{staticClass:"player-btn-wrap"},[i("div",{staticClass:"player-btn-prev",attrs:{title:"上一曲"},on:{click:function(s){t.toggleMusic(!1,s)}}}),t._v(" "),i("div",{staticClass:"player-btn-play",class:{pause:t.isPlay,play:!t.isPlay},attrs:{title:t.isPlay?"暂停":"播放"},on:{click:t.togglePlayStatus}}),t._v(" "),i("div",{staticClass:"player-btn-next",attrs:{title:"下一曲"},on:{click:function(s){t.toggleMusic(!0,s)}}})]),t._v(" "),i("div",{staticClass:"player-music"},[i("div",{staticClass:"player-music-info"},[t.isShowView?i("div",{staticClass:"player-music-text hidden",attrs:{title:t.music.playing.songname+" - "+t.music.playing.singer}},[i("span",{staticClass:"player-music-name"},[t._v(t._s(t.music.playing.songname))]),t._v("\n      -\n      "),i("span",{staticClass:"player-music-name"},[t._v(t._s(t.music.playing.singer))])]):t._e(),t._v(" "),i("div",{staticClass:"player-music-current-time"},[t._v(t._s(t._f("intervalTime")(t.current)))]),t._v(" "),i("div",{staticClass:"player-music-time"},[t._v(t._s(t._f("intervalTime")(t.music.playing.interval)))])]),t._v(" "),i("div",{staticClass:"progress-wrap"},[i("playProgress",{attrs:{max:t.music.playing.interval,current:t.current}})],1)]),t._v(" "),i("div",{staticClass:"player-other-btn"},[i("div",{staticClass:"player-btn-style",class:t.playerStyles[t.music.options.playerStyle],attrs:{title:t.playerStylesTitle[t.music.options.playerStyle]},on:{click:t.togglePlayerStyle}}),t._v(" "),t.isShowView?i("div",{staticClass:"player-volume hidden"},[i("div",{staticClass:"player-volume-icon",class:{"close-volume":0===t.volume},attrs:{title:"音量："+t.showVolume},on:{click:t.closeVolume}}),t._v(" "),i("div",{staticClass:"player-volume-progress"},[i("playProgress",{attrs:{max:1,current:t.volume},on:{toggleValue:t.toggleVolume}})],1)]):t._e(),t._v(" "),i("div",{staticClass:"player-btn-playing-list",attrs:{title:"播放列表"},on:{click:t.openPlayList}})])])},staticRenderFns:[]};var R=i("VU/8")(H,D,!1,function(t){i("2coL")},"data-v-035c33e3",null).exports,F={name:"search-List",data:function(){return{playList:[],playIndex:-1,playMusic:{},title:""}},props:{music:{type:Object}},computed:{playingIndex:function(){var t=this.playList.indexOf(this.music.playing);return t=t<0?0:t}},methods:{togglePlayStatus:function(t,s,i){this.playMusic={index:s,music:t},this.playIndex===s?(this.playIndex=-2,this.music.pause()):(this.playIndex=s,this.music.play(t))},play:function(t){var s=this.playList.indexOf(this.music.playing);this.playIndex=s>=0&&t?this.playingIndex:-2},songList:function(t,s){this.playList=t,s&&(this.title=s),this.play(!0)},pushPlayList:function(t){this.music.playList.indexOf(t)<0&&this.music.playList.push(t),this.$set(t,"isPlayList",!0)},removePlayList:function(t){this.playList.indexOf(t)>=0&&(t.isPlayList=!1)},closeBtn:function(){this.$emit("close-search-list",!1)}},filters:{intervalTime:function(t){return T(Math.floor(t/60))+":"+T(Math.floor(t%60))}}},W={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"search-List-wrap"},[i("div",{staticClass:"search-header"},[t._m(0),t._v(" "),i("div",{staticClass:"title"},[t._v(t._s(t.title))]),t._v(" "),i("button",{staticClass:"close-btn",on:{click:t.closeBtn}},[t._v("关闭")])]),t._v(" "),i("div",{staticClass:"music-list-main"},[t._m(1),t._v(" "),i("i",{staticClass:"border-line"}),t._v(" "),i("ul",{staticClass:"music-list-content"},t._l(t.playList,function(s,e){return i("li",{key:e,staticClass:"music-list-item ",class:{playing:t.playIndex===e}},[i("div",{staticClass:"song-index"},[t._v(t._s(e+1))]),t._v(" "),i("div",{staticClass:"song-name",attrs:{"data-songInfo":"歌手："+s.singer}},[i("span",{attrs:{title:"歌名："+s.songname}},[t._v(t._s(s.songname))]),t._v(" "),i("div",{staticClass:"song-menu"},[i("span",{staticClass:"song-menu-status",attrs:{title:t.playIndex===e?"暂停":"播放"},on:{click:function(i){t.togglePlayStatus(s,e,i)}}}),t._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:!s.isPlayList,expression:"!item.isPlayList"}],staticClass:"song-menu-add",attrs:{title:"添加到播放列表"},on:{click:function(i){t.pushPlayList(s)}}})])]),t._v(" "),i("div",{staticClass:"song-singer hidden",attrs:{title:"歌手："+s.singer}},[t._v(t._s(s.singer))]),t._v(" "),i("div",{staticClass:"song-album hidden",attrs:{title:"专辑："+s.albumname}},[t._v(t._s(s.albumname))]),t._v(" "),i("div",{staticClass:"song-interval hidden"},[t._v(t._s(t._f("intervalTime")(s.interval)))]),t._v(" "),i("i",{staticClass:"border-line"})])}))])])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"logo"},[s("a",{attrs:{href:"javascript:;"}},[s("img",{attrs:{src:"http://webapi.yuzhers.com/api/image/?n=player_logo.png",alt:"QQ音乐播放器"}})])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",{staticClass:"music-list-header  hidden"},[s("li",{staticClass:"music-list-header-name"},[this._v("歌名")]),this._v(" "),s("li",{staticClass:"music-list-header-author hidden "},[this._v("歌手")]),this._v(" "),s("li",{staticClass:"music-list-header-album hidden"},[this._v("专辑")]),this._v(" "),s("li",{staticClass:"music-list-header-time hidden"},[this._v("时长")])])}]};var G={name:"App",data:function(){return{playList:[],searchList:[],hotTopList:[],isShowSearchList:!1,music:{}}},created:function(){var t=this,s=document.querySelector("#app");this.music=new P(s,{}),this.music.getSongSheet(),this.music.events={timeupdate:function(s){var i=t.music.options.currentTime;t.$refs.player.timeUpdate(i),t.$refs.songInfo.playStartDeg(i)}}},computed:{photoUrl:function(){var t=this.music.getPhotoUrl();return t||(t="http://webapi.yuzhers.com/api/image/?n=avatar.jpeg"),t},isShowView:function(){var t=document.body.clientWidth;return console.log(t),t>768}},mounted:function(){this.music.events.play=this.play,this.music.events.pause=this.pause,this.music.events.musicListLoaded=this.musicListLoaded},methods:{play:function(t){this.$refs.searchList.play(!0),this.$refs.playList.play(!0),this.$refs.player.play(!0),this.$refs.songInfo.play(!0)},pause:function(){this.$refs.searchList.play(!1),this.$refs.playList.play(!1),this.$refs.player.play(!1),this.$refs.songInfo.play(!1)},musicListLoaded:function(t){var s=this;setTimeout(function(){switch(t.type){case"songSheet":s.playList=t.songList,s.$refs.playList.songList(t.songList);break;case"hotTop":s.hotTopList=t.songList,s.$refs.searchList.songList(t.songList,"巅峰·热歌榜");break;case"search":s.searchList=t.songList,s.$refs.searchList.songList(t.songList)}},1e3)},hotTop:function(t){this.isShowSearchList=t,t&&this.$refs.searchList.songList(this.hotTopList,"巅峰·热歌榜")},searchMusic:function(t,s){this.isShowSearchList=!0,this.$refs.searchList.songList(this.searchList,"搜索《"+s+"》如下")},removeItem:function(t){this.$refs.searchList.removePlayList(t)},openPlayList:function(){this.$refs.playList.closePlayList(!0)}},components:{"v-header":M,playList:I,songInfo:V,player:R,searchList:i("VU/8")(F,W,!1,function(t){i("fDW6")},"data-v-098e9dc3",null).exports}},z={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{attrs:{id:"app"}},[i("transition",{attrs:{name:"header"}},[i("v-header",{directives:[{name:"show",rawName:"v-show",value:!t.isShowSearchList,expression:"!isShowSearchList"}],attrs:{music:t.music},on:{"hot-top":t.hotTop,"search-music":t.searchMusic}})],1),t._v(" "),i("transition",{attrs:{name:"content"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:!t.isShowSearchList,expression:"!isShowSearchList"}],staticClass:"content-wrap"},[i("i",{staticClass:"line"}),t._v(" "),i("div",{staticClass:"player-list-wrap"},[i("playList",{ref:"playList",attrs:{music:t.music},on:{"remove-item":t.removeItem}}),t._v(" "),i("songInfo",{ref:"songInfo",attrs:{music:t.music}})],1),t._v(" "),i("player",{ref:"player",attrs:{music:t.music},on:{"playing-list":t.openPlayList}})],1)]),t._v(" "),i("transition",{attrs:{name:"searchList"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowSearchList,expression:"isShowSearchList"}],staticClass:"search-list"},[i("search-list",{ref:"searchList",attrs:{music:t.music},on:{"close-search-list":t.hotTop}})],1)]),t._v(" "),i("div",{staticClass:"bg-mark"}),t._v(" "),i("div",{staticClass:"bg",style:{backgroundImage:"url("+t.photoUrl+")"}})],1)},staticRenderFns:[]};var J=i("VU/8")(G,z,!1,function(t){i("O4q7")},null,null).exports;i("jyUv");e.a.config.productionTip=!1,new e.a({el:"#app",components:{App:J},template:"<App/>"})},fDW6:function(t,s){},jyUv:function(t,s){}},["SrUm"]);
//# sourceMappingURL=app.c4ad535.js.map